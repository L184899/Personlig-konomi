<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Økonomioversikt</title>
  <link rel="stylesheet" href="personlig.css">
</head>

<body>

  <!-- Wrapper for side om side layout -->
  <div class="outer-container">
    
    <!-- Venstre container: Skjema og pai-diagram -->
    <div class="container">
      <h1>Min økonomi</h1>

      <label for="monthSelect">Velg måned:</label>
      <select id="monthSelect">
        <option value="jan">Januar</option>
        <option value="feb">Februar</option>
        <option value="mar">Mars</option>
        <option value="apr">April</option>
        <option value="mai">Mai</option>
        <option value="jun">Juni</option>
        <option value="jul">Juli</option>
        <option value="aug">August</option>
        <option value="sep">September</option>
        <option value="okt">Oktober</option>
        <option value="nov">November</option>
        <option value="des">Desember</option>
      </select>

      <h2 id="monthHeading">Inntekt</h2>
      <input type="number" id="loenn" placeholder="Skriv inn din inntekt">

      <h2>Utgifter</h2>
      <label for="mat">Mat</label>
      <input type="number" id="mat" placeholder="Matutgifter">
      
      <label for="leie">Boutgifter</label>
      <input type="number" id="leie" placeholder="Boutgifter">
      
      <label for="strom">Strøm</label>
      <input type="number" id="strom" placeholder="Strømregning">
      
      <label for="annet">Annet</label>
      <input type="number" id="annet" placeholder="Andre utgifter">

      <button id="lagreBtn">Lagre</button>

      <canvas id="chartUtgifter"></canvas>
      <p id="gjenvTekst" class="gjenv-tekst"></p>
    </div>

    <!-- Høyre container: Årsoversikt -->
    <div class="year-chart-container">
      <h3>Årsoversikt</h3>
      <p id="totalGjenv" class="gjenv-tekst"></p>
      <canvas id="yearChart"></canvas>
    </div>

  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="personlig.js"></script>

  <script>
    window.onload = function() {
      setDefaultMonth();
      oppdaterSkjema();
      oppdaterDiagram();
      oppdaterYearChart();
    };

    document.getElementById("lagreBtn").addEventListener("click", () => {
      lagreData();
      oppdaterSkjema();
      oppdaterDiagram();
      oppdaterYearChart();
    });

    document.getElementById("monthSelect").addEventListener("change", () => {
      oppdaterSkjema();
      oppdaterDiagram();
    });

    function setDefaultMonth() {
      const now = new Date();
      const monthIndex = now.getMonth(); 
      const monthKeys = ["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"];
      document.getElementById("monthSelect").value = monthKeys[monthIndex];
    }
  </script>

</body>
</html>
